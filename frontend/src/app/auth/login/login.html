<div class="card">
  <div class="flex-content">
    <div class="image-content">
      <img src="assets/imageDoctor.png" alt="doctor" />
    </div>
    <div class="form-content">
      @if (isLoading()) {
        <div class="spinner">
          <p-progress-spinner ariaLabel="loading" />
        </div>
      } @else {
        <h2>{{ translationService.translate("login.title") }}</h2>
        <form
          class="form-content--without-heder"
          [formGroup]="loginForm"
          (ngSubmit)="onSubmit()"
        >
          <app-input-for-auth
            type="email"
            [label]="translationService.translate('login.email')"
            [control]="loginFormGroup.controls.email"
          />
          <div class="password-with-forgot-password">
            <app-input-for-auth
              type="password"
              [label]="translationService.translate('login.password')"
              [control]="loginFormGroup.controls.password"
            />
            <a routerLink="/auth/forgot-password">{{
              translationService.translate("login.forgotPassword")
            }}</a>
          </div>
          <div class="button-content">
            <p-button
              size="large"
              class="button"
              type="submit"
              [label]="translationService.translate('login.loginButton')"
            />
            <span class="login-link">
              <span
                >{{ translationService.translate("login.noAccount") }}
              </span>
              <a routerLink="/auth/register">{{
                translationService.translate("login.registerLink")
              }}</a>
            </span>
          </div>
        </form>
      }
    </div>
  </div>
</div>

<p-dialog
  [modal]="true"
  [(visible)]="hasError().haveError"
  [style]="{ width: '30rem', height: '16rem' }"
>
  <ng-template #headless>
    <div class="dialog-content">
      <i class="pi pi-times" [style]="{ fontSize: '5rem', color: 'red' }"></i>
      <p class="error-message-dialog">{{ hasError().errorMessage }}</p>

      <p-button
        [label]="'Ok'"
        (click)="hasError.set({ haveError: false, errorMessage: '' })"
      />
    </div>
  </ng-template>
</p-dialog>
